var StarRatingWidth=25;var StarRating={attachBehavior:function(){var b=document.getElementsByClassName("star-rating");for(var a=0;a<b.length;++a){var c=b[a].id;Event.observe(b[a],"click",StarRating.click)}},click:function(d){var b=Event.findElement(d,"ol");var c=b.getAttribute("for");var e=parseInt(Event.findElement(d,"a").getAttribute("rating"));new Ajax.Request(c,{method:"get",parameters:{r:e,partial:1}});var a=b.getElementsByClassName("current-rating")[0];a.style.width=(StarRatingWidth*e)+"px";a.innerHTML=(new Array(1+e).join("*"));Event.stop(d)}};Event.observe(window,"load",StarRating.attachBehavior);